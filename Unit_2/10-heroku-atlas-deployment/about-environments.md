# Environments

Application environments are an important part of the context in which an application runs.

Environmental variables store data and configurations that pertains to the phase of the application's development. Each environment is configured to support a certain usage of the application.

Typical application environments:

- **development** - environment where an app or new features are created and run locally
- **test** - environment where code and UI is tested for functionality and performance
- **production** - environment for complete and tested code to be hosted online for clients to use

Development is the default environment, and is what we are in when we run the app locally.

Deploying an app often entails deploying into a production environment. By production, we mean the public, published version of our site. This published version of the app would have important data generated by user activity, such as user accounts and user-submitted data.

Each environment has a different set of configurations, things that vary depending on how we're running or using our app. We could be testing, developing, or deploying our apps. Configuration settings often include...

- the name of the database
- the username/password to connect to the database
- API authentication keys (e.g. to connect to twitter API)
- whether or not to reload code on each request (for debugging vs performance)
- where to save log information (error logs, etc)

## 12 Factor

12 Factor is a set of strong guidelines designed by Heroku for building apps that deploy and scale more easily and predictably. Spend 10 minutes reading through [this explanation of what characteristics a 12 Factor app has](http://www.clearlytech.com/2014/01/04/12-factor-apps-plain-english/).

Here is an even briefer summary. Pay special attention to #1, 2, 3, 5
1. Codebase - Use Version Control
2. Dependencies - Declare dependencies w/ versions
3. Config - Things that change between environments - Keep separate from code, store tokens, api keys, passwords in environment variables
4. Backing Services - Things your server consumes as part of its regular operation -  Ex. databases, postgres, caching - attach as environment variable
5. Build, Release, Run
    * Turn code into build artifact (minified version)
    * Take in Config variables and create Release Image (git push heroku master)
    * Run Release Image 
6. Processes - Processes are stateless
7. Port Binding - App is self-contained
8. Concurrency - App can scale up and scale out
9. Disposability - Easy to start up, resilience to failure, graceful to shutdown
10. Dev/prod parity - Development environment as close to Production environment as possible
11. Logs - Treat logs as events, capture errors and keep track of them
12. Admin tasks should be run as isolated processes
